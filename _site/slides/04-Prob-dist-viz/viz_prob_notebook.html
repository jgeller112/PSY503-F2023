<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>prob_class_viz</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="viz_prob_notebook_files/libs/clipboard/clipboard.min.js"></script>
<script src="viz_prob_notebook_files/libs/quarto-html/quarto.js"></script>
<script src="viz_prob_notebook_files/libs/quarto-html/popper.min.js"></script>
<script src="viz_prob_notebook_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="viz_prob_notebook_files/libs/quarto-html/anchor.min.js"></script>
<link href="viz_prob_notebook_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="viz_prob_notebook_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="viz_prob_notebook_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="viz_prob_notebook_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="viz_prob_notebook_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">prob_class_viz</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="outline" class="level2">
<h2 class="anchored" data-anchor-id="outline">Outline</h2>
<ul>
<li><p>Probability - what is it?</p></li>
<li><p>Random processes and variables</p></li>
<li><p>Probability distributions</p></li>
<li><p>DGP</p></li>
<li><p><code>ggplot</code> primer</p></li>
<li><p>Visualizing variance</p></li>
</ul>
</section>
<section id="packages" class="level2">
<h2 class="anchored" data-anchor-id="packages">Packages</h2>
<pre class="{webr-r}"><code>#| echo: false
#| message: false
library(pacman)
p_load("tidyverse")
</code></pre>
</section>
<section id="probability-warm-up" class="level2">
<h2 class="anchored" data-anchor-id="probability-warm-up">Probability warm-up</h2>
<ol type="1">
<li><p>What is probability of drawing the ace of spades from a fair deck of cards?</p></li>
<li><p>What is the probability of drawing an ace of any suit?</p></li>
<li><p>You are going to roll some dice twice. What is the probability you roll doubles?</p></li>
<li><p>What is the chance that a live specimen of the New Jersey Devil will be found?</p></li>
<li><p>Who is more likely to be a victim of a street robbery, a young man or an old woman?</p></li>
</ol>
</section>
<section id="frequentist-interpretation-of-probability" class="level2">
<h2 class="anchored" data-anchor-id="frequentist-interpretation-of-probability">Frequentist interpretation of probability</h2>
<ul>
<li>Classical statistical inference is based off this interpretation</li>
</ul>
<!-- -->
<ul>
<li><p>The frequentist approach treats probabilities as relative frequencies</p>
<ul>
<li>If we say that the probability of rolling a 5 on a fair die is 1/6, we mean that, <strong><em>if the die were rolled an infinite number of times</em></strong>, 1/6 of all rolls would be a 5</li>
</ul></li>
</ul>
</section>
<section id="what-probability-is-not" class="level2">
<h2 class="anchored" data-anchor-id="what-probability-is-not">What probability is not</h2>
<div class="quarto-video"><iframe data-external="1" src="https://www.youtube.com/embed/WFoC3TR5rzI" width="600" height="400" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
</section>
<section id="what-is-probability-theory" class="level2">
<h2 class="anchored" data-anchor-id="what-is-probability-theory">What is probability theory?</h2>
<ul>
<li><p>Probability is the study of <strong>random processes</strong></p>
<ul>
<li><p>Probability is used to characterize <strong>uncertainty/randomness</strong></p>
<p><img src="https://psy503-found-stats.netlify.app/slides/05-probability/probability-line.svg" class="img-fluid" width="790"></p></li>
</ul></li>
</ul>
</section>
<section id="random-processes-intuition" class="level2">
<h2 class="anchored" data-anchor-id="random-processes-intuition">Random processes: intuition</h2>
<pre class="{webr-r}"><code>
coinflips &lt;- function(x) { 
  flip=rbinom(x, 1, 0.5) 
flip=ifelse(flip==1, "Tails", "Heads") 

return(flip) 
}

coinflips(1)

</code></pre>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Let’s flip a fair coin</li>
</ul>
<pre class="{webr-r}"><code>coinflips &lt;- function(x) { 
  flip=rbinom(x, 1, 0.5) 
flip=ifelse(flip==1, "Tails", "Heads") 

return(flip) 
}

coinflips(1)
</code></pre>
</div><div class="column" style="width:50%;">
<ol type="1">
<li><p>Can you tell me what the outcome will be?</p></li>
<li><p>If we were to flip a fair coin many many times, would you be able to tell the proportion of times that we would obtain heads?</p></li>
</ol>
</div>
</div>
<p>. . .</p>
<ul>
<li>If answer to first question is “NO” AND Answer to second question is “YES”
<ul>
<li>You are dealing with a random process</li>
</ul></li>
</ul>
</section>
<section id="random-processes" class="level2">
<h2 class="anchored" data-anchor-id="random-processes">Random processes</h2>
<ul>
<li>Random processes are mechanisms that produce outcomes… from a world/set of possible outcomes… with some degree of uncertainty but with regularity</li>
</ul>
</section>
<section id="examples-of-random-processes" class="level2">
<h2 class="anchored" data-anchor-id="examples-of-random-processes">Examples of random processes</h2>
<ul>
<li>Random assignment in experiments</li>
</ul>
<p>. . .</p>
<ul>
<li>Random dram of a sample of n individuals from a population of N individuals</li>
</ul>
<p>. . .</p>
<ul>
<li>Rolling a die</li>
</ul>
</section>
<section id="what-is-a-random-variable" class="level2">
<h2 class="anchored" data-anchor-id="what-is-a-random-variable">What is a random variable?</h2>
<ul>
<li><p>A variable that depends on a random process</p>
<ul>
<li><p>Think about the following random phenomenon: “randomly selecting 2 students in this class room”</p>
<ul>
<li><p>Sample space?</p>
<ul>
<li><p>One possible outcome: <span class="math inline">\(\omega = \{\mathrm{Ari, \: Alex}\}\)</span></p></li>
<li><p>Another possible outcome: <span class="math inline">\(\omega = \{\mathrm{Aditi, \: Brooke}\}\)</span></p></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="what-is-a-random-variable-1" class="level2">
<h2 class="anchored" data-anchor-id="what-is-a-random-variable-1">What is a random variable?</h2>
<ul>
<li>Can this be considered a random variable?</li>
</ul>
<p>. . .</p>
<ul>
<li><p>No.&nbsp;Random variables are always numeric</p></li>
<li><p>We operate on random variables using math</p></li>
</ul>
</section>
<section id="illustration" class="level2">
<h2 class="anchored" data-anchor-id="illustration">Illustration</h2>
<ul>
<li><p>Random variables are mappings from events to numbers</p></li>
<li><p>Formally, a random variable is defined as a function that maps the sample space <span class="math inline">\(\Omega\)</span> of a random generative process into the real line (or into real numbers)</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/coin_toss.jpg" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
<section id="probability-distribution-functions" class="level2">
<h2 class="anchored" data-anchor-id="probability-distribution-functions">Probability distribution functions</h2>
<ul>
<li><p>Two types of random variables</p>
<ul>
<li><p>Discrete</p></li>
<li><p>Continuous</p></li>
</ul></li>
<li><p>The <strong>distribution</strong> of a random variable <span class="math inline">\(X\)</span> describes the likelihood of the values that <span class="math inline">\(X\)</span> can take</p></li>
</ul>
</section>
<section id="discrete-random-variables-definition" class="level2">
<h2 class="anchored" data-anchor-id="discrete-random-variables-definition">Discrete random variables: definition</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Discrete random variables are defined on a range that is a countable set</p></li>
<li><p>i.e., they can only take on a <strong>finite</strong> or <strong>countably infinite</strong> number of different values</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/discont.jpg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="probability-mass-function-pmf" class="level2">
<h2 class="anchored" data-anchor-id="probability-mass-function-pmf">Probability mass function (PMF)</h2>
<ul>
<li><p>Let <span class="math inline">\(X\)</span> be a discrete random variable</p></li>
<li><p>The <em>probability mass function (PMF)</em> of <span class="math inline">\(X\)</span> summarizes the probability of each outcome <span class="math inline">\(x\)</span></p></li>
<li><p>PMF: function <span class="math inline">\(p\)</span> given by <span class="math display">\[P(X = x)\]</span></p>
<ul>
<li><p><span class="math inline">\(X\)</span> = RV</p></li>
<li><p><span class="math inline">\(x\)</span> = value</p></li>
</ul></li>
</ul>
</section>
<section id="example-dessert-tonight" class="level2">
<h2 class="anchored" data-anchor-id="example-dessert-tonight">Example: Dessert tonight</h2>
<p>Imagine that you started a strict diet a few days ago. You are at a dinner party at your friend’s who made your favorite dessert. You are very tempted and make the decision to flip a coin three times. The number of times that the flip coin returns tail determines the number of bites of the dessert you will have. Before you start flipping the coin, you want to learn more about your chances of not having dessert tonight. To do that, you decide to look at the possible outcomes. You let 𝑋 be the number of times a series of three coin flips returns tails (T). The support of 𝑋 is {0, 1, 2, 3}.</p>
</section>
<section id="dessert-tonight" class="level2">
<h2 class="anchored" data-anchor-id="dessert-tonight">Dessert tonight</h2>
<pre class="{webr-r}"><code>outcomes &lt;- c('H', 'T')
sample_space &lt;- expand.grid(outcomes, outcomes, outcomes)
sample_space
</code></pre>
</section>
<section id="pmf-dessert-tonight" class="level2">
<h2 class="anchored" data-anchor-id="pmf-dessert-tonight">PMF: Dessert tonight</h2>
<pre class="{webr-r}"><code>#| echo: false
#| fig-align: "center"
#| 

# Define parameters
n &lt;- 3
p &lt;- 0.5

# Calculate probabilities
x &lt;- 0:n
probabilities &lt;- dbinom(x, n, p)

# Plot PMF
df &lt;- data.frame(x, probabilities)
ggplot(df, aes(x=x, y=probabilities)) +
    geom_bar(stat="identity", fill="skyblue") +
    labs(title="PMF of number of tails in 3 coin flips",
         x="Number of tails",
         y="Probability") +
    theme_minimal() +
    geom_text(aes(label=sprintf("%.2f", probabilities)), vjust=-0.5)


</code></pre>
</section>
<section id="cumulative-distribution-function-cdf-definition" class="level2">
<h2 class="anchored" data-anchor-id="cumulative-distribution-function-cdf-definition">Cumulative distribution function (CDF): definition</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>The CDF of a random variable is the function <span class="math inline">\(F\)</span> such that</p>
<ul>
<li><span class="math inline">\(F(x) = P(X \leq x)\)</span></li>
</ul></li>
<li><p>CDF tells us the probability that an outcome below a specific outcome occurs</p></li>
<li><p>Sums to 1</p></li>
</ul>
</div><div class="column" style="width:50%;">
<pre class="{webr-r}"><code>#| echo: false
#| 

# Generate a random dataset
set.seed(666)
data &lt;- data.frame(x = rnorm(100))

# Calculate the cumulative distribution
data &lt;- data %&gt;% 
  arrange(x) %&gt;% 
  mutate(cdf = row_number() / n())

# Create the CDF plot
ggplot(data, aes(x = x, y = cdf)) +
  geom_line() +
  geom_point() +
  ggtitle("CDF of Random Data") +
  xlab("Data Points") +
  ylab("CDF")
</code></pre>
</div>
</div>
</section>
<section id="continuous-random-variables-definition" class="level2">
<h2 class="anchored" data-anchor-id="continuous-random-variables-definition">Continuous random variables: Definition</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>A continuous random variable is a variable that can take on an infinite number of values within a given range or interval</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/discont.jpg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="probability-density-function-pdf-definition" class="level2">
<h2 class="anchored" data-anchor-id="probability-density-function-pdf-definition">Probability Density Function (PDF): Definition</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>PDF is continuous version of PMF</li>
<li>The PDF of a random continuous variable is the function <span class="math inline">\(F\)</span> such that <span class="math inline">\(F(x) = P(a \geq X \geq b)\)</span></li>
<li>PDF tells us the probability of range of outcomes</li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li>What is probability of observing IQ between 100 and 125?</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://psy503-found-stats.netlify.app/slides/05-probability/basics_of_probability_theory_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="687"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="cdf" class="level2">
<h2 class="anchored" data-anchor-id="cdf">CDF</h2>
<ul>
<li><div class="column" style="width:50%;">
<p><span class="math inline">\(F(x) = P(X \leq x)\)</span></p>
</div>
<img src="https://psy503-found-stats.netlify.app/slides/05-probability/basics_of_probability_theory_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="896"></li>
</ul>
</section>
<section id="summarizing-random-variables" class="level2">
<h2 class="anchored" data-anchor-id="summarizing-random-variables">Summarizing random variables</h2>
<ul>
<li><p>PMFs, PDFs, CDFs are very useful tools to summarize information from rvs.</p></li>
<li><p>Many other ways to summarize random variables!</p>
<ul>
<li>e.g., mean, median, standard deviation, etc.</li>
</ul></li>
</ul>
</section>
<section id="our-goal-as-statisticians" class="level2">
<h2 class="anchored" data-anchor-id="our-goal-as-statisticians">Our goal as statisticians</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://bookdown.org/cristobalmoya/iscs_materials/img/producing_data_inferences.png" width="706" height="367" class="figure-img"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<p>Link probability distributions to the data generating process (DGP)</p>
<ul>
<li><p>The data generating process (GDP) represents the “real-world” process of how data comes about</p></li>
<li><p>Probability distributions are mathematical models used to model and understand the DGP</p></li>
</ul>
</div>
</div>
</section>
<section id="dgp" class="level2">
<h2 class="anchored" data-anchor-id="dgp">DGP</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p><strong>Bottom-up</strong>: This approach begins with the observed data. By examining the data distribution, one might make educated guesses or inferences about the underlying processes that produced it</p></li>
<li><p><strong>Top-down</strong>: This approach relies on pre-existing knowledge or theories about the system or phenomenon in question to inform our understanding of the DGP</p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://psy503-found-stats.netlify.app/slides/04-models/distribs.png" width="750" height="482" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="bootstrapping" class="level2">
<h2 class="anchored" data-anchor-id="bootstrapping">Bootstrapping</h2>
<ul>
<li><div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Sampling with replacement</p>
<ul>
<li><p>A computer based method for deriving the probability distribution for any random variable</p></li>
<li><p>How to do it</p>
<ul>
<li>Run your analysis a bunch of times with a slightly different set of observations each time</li>
</ul></li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li>Dice roll</li>
</ul>
<pre class="{webr-r}"><code>
x=1:6

sample(x, 6, replace=TRUE)
sample(x, 6, replace=TRUE)
sample(x, 6, replace=TRUE)

</code></pre>
</div>
</div></li>
</ul>
<div class="notes">
<p>Once we have an idea about the DGP we can simulate data to see if it conforms to expectations.</p>
<p>Sampling helps us build up our intuitions about probability distributions</p>
<p>The book talks about dice rolls.</p>
<p>What are some others?</p>
</div>
</section>
<section id="bootstrapping-1" class="level2">
<h2 class="anchored" data-anchor-id="bootstrapping-1">Bootstrapping</h2>
<pre class="{webr-r}"><code>#| echo: false

library(ggplot2)
library(dplyr)

# Simulated dice rolls (replace this with your actual data if you have one)
set.seed(123)
dice_rolls &lt;- sample(1:6, 1000, replace=TRUE)

# Bootstrap the rolls
n_bootstraps &lt;- 1000
bootstrap_samples &lt;- replicate(n_bootstraps, sample(dice_rolls, length(dice_rolls), replace=TRUE))

# Calculate the mean occurrence of each roll in the bootstrapped samples
bootstrap_probabilities &lt;- colMeans(sapply(1:6, function(i) rowMeans(bootstrap_samples == i)))

# Create data frame for plotting
dice_df &lt;- data.frame(
  roll = 1:6,
  probability = bootstrap_probabilities
)

# Plotting with ggplot2
ggplot(dice_df, aes(x=roll, y=probability)) +
  geom_bar(stat="identity") +
  labs(title="Bootstrapped Dice Roll Probabilities",
       x="Dice Roll",
       y="Probability") +
  ylim(0, 1) +
  scale_x_continuous(breaks=1:6)</code></pre>
</section>
<section id="sources-of-variance" class="level2">
<h2 class="anchored" data-anchor-id="sources-of-variance">Sources of Variance</h2>
<ul>
<li>There is uncertainty associated with the DGP</li>
</ul>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">Types of Error</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Unexplained Error</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href="">Sources of Unexplained Error</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/var.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/var1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/var3.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="randomness" class="level2">
<h2 class="anchored" data-anchor-id="randomness">Randomness</h2>
<ul>
<li><p>Shuffling (permutation tests)</p>
<div class="columns">
<div class="column" style="width:50%;">
<pre class="{webr-r}"><code>
knitr::include_url("https://www.jwilber.me/permutationtest/", height = "800px")

</code></pre>
</div><div class="column" style="width:50%;">
<p><img src="images/Screen%20Shot%202023-09-18%20at%202.21.43%20PM.png" class="img-fluid"></p>
</div>
</div></li>
</ul>
</section>
<section id="visualizing-variance" class="level2">
<h2 class="anchored" data-anchor-id="visualizing-variance">Visualizing variance</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ggplot.jpg" class="img-fluid figure-img"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<ul>
<li><p><code>ggplot2</code> is tidyverse’s data visualization package (<code>plotnine</code> in Python uses similar syntax)</p></li>
<li><p>The gg in <code>ggplot2</code> stands for Grammar of Graphics</p>
<ul>
<li><p>It is inspired by the book Grammar of Graphics by Leland Wilkinson</p></li>
<li><p>A grammar of graphics is a tool that enables us to concisely describe the components of a graphic</p></li>
</ul></li>
</ul>
</div>
</div>
</section>
<section id="ggplot2" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2"><code>ggplot2</code></h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/ggplot_aes.png" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
<section id="ggplot2-1" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2-1"><code>ggplot2</code></h2>
<p>Let’s start with a blank canvas</p>
<pre class="{webr-r}"><code>ggplot()</code></pre>
</section>
<section id="ggplot2---data" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2---data"><code>ggplot2</code> - Data</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://allisonhorst.github.io/palmerpenguins/logo.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<pre class="{webr-r}"><code>#| fig-align: "center"

library(palmerpenguins)
ggplot(data=penguins, mapping = aes(x=bill_length_mm, y = flipper_length_mm))+
  theme_minimal(base_size = 16)</code></pre>
</div>
</div>
</section>
<section id="ggplot2---layers" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2---layers"><code>ggplot2</code> - Layers</h2>
<ul>
<li><p>Let’s add a geom</p>
<ul>
<li><code>geom_point</code> adds a dot for each raw data point</li>
</ul></li>
</ul>
<pre class="{webr-r}"><code>#| code-line-numbers: "2"
#| fig-align: "center"

ggplot(data=penguins, mapping = aes(x=bill_length_mm, y = flipper_length_mm)) +
          geom_point()+
  theme_minimal(base_size = 16)
</code></pre>
</section>
<section id="ggplot2---layers-1" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2---layers-1"><code>ggplot2</code> - Layers</h2>
<ul>
<li><p>Let’s add another geom</p>
<ul>
<li><code>geom_smooth</code> plots a smoothed line for the data</li>
</ul></li>
</ul>
<pre class="{webr-r}"><code>#| code-line-numbers: "2"
#| fig-align: "center"

    ggplot(data=penguins, mapping = aes(x=bill_length_mm, y = flipper_length_mm)) +
      geom_smooth()+
  theme_minimal(base_size = 16)

</code></pre>
</section>
<section id="ggplot2-layers" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2-layers"><code>ggplot2</code> Layers</h2>
<ul>
<li>Maybe a linear line</li>
</ul>
<pre class="{webr-r}"><code>#| code-line-numbers: "2"
#| fig-align: center

    ggplot(data=penguins, mapping = aes(x=bill_length_mm, y = flipper_length_mm)) +
      geom_smooth(method="lm")+
  theme_minimal(base_size = 16)

</code></pre>
</section>
<section id="ggplot2---layers-2" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2---layers-2"><code>ggplot2</code> - Layers</h2>
<ul>
<li>It might be nice to see the raw data WITH the line. We can combine geoms!</li>
</ul>
<pre class="{webr-r}"><code>#| code-line-numbers: "2-3"
#| fig-align: center
    ggplot(data=penguins, mapping = aes(x=bill_length_mm, y = flipper_length_mm)) +
  geom_point() + 
      geom_smooth(method="lm")+
  theme_minimal(base_size = 16)

</code></pre>
</section>
<section id="ggplot2---size" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2---size"><code>ggplot2</code> - Size</h2>
<ul>
<li>Points are a bit small. Let’s make them bigger!</li>
</ul>
<pre class="{webr-r}"><code>#| code-line-numbers: "2"
#| fig-align: center

    ggplot(data=penguins, mapping = aes(x=bill_length_mm, y = flipper_length_mm)) +
  geom_point(size = 2, alpha=.3) + 
      geom_smooth(method="lm")+
  theme_minimal(base_size = 16)
</code></pre>
</section>
<section id="ggplot2---color" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2---color"><code>ggplot2</code> - Color</h2>
<ul>
<li>How could we add information about different types of penguins?</li>
</ul>
<pre class="{webr-r}"><code>#| code-line-numbers: "1"
#| fig-align: center

    ggplot(data=penguins, mapping = aes(x=bill_length_mm, y = flipper_length_mm, color=species)) +
  geom_point(size = 4)+
  theme_minimal(base_size = 16)
</code></pre>
</section>
<section id="ggplot2--axes" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2--axes"><code>ggplot2</code>- Axes</h2>
<ul>
<li><p>Let’s clean up our plot</p>
<ul>
<li>Add clearer axis labels</li>
</ul></li>
</ul>
<pre class="{webr-r}"><code>#| code-line-numbers: "3"
#| fig-align: center

    ggplot(data=penguins, mapping = aes(x=bill_length_mm, y = flipper_length_mm, color=species)) +
  geom_point(size = 4) + 
  xlab("Bill Length in milimters") + 
  ylab("Flipper Length in milimeters")+
  theme_minimal(base_size = 16)
</code></pre>
</section>
<section id="ggplot2---title" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2---title"><code>ggplot2</code> - Title</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Let’s clean up our plot</p></li>
<li><p>Add title</p></li>
</ul>
<pre class="{webr-r}"><code>#| code-line-numbers: "5"
#| fig-align: center

title &lt;- ggplot(data=penguins, mapping = aes(x=bill_length_mm, y = flipper_length_mm, color=species)) +
          geom_point(size = 4) + 
          xlab("Bill Length in milimters") + 
          ylab("Flipper Length in milimeters") + 
          ggtitle("Palmer Penguins: Bill length vs Flipper length") +
  theme_minimal(base_size = 16)
</code></pre>
</div><div class="column" style="width:50%;">
<pre class="{webr-r}"><code>#| echo: false
#| 
title</code></pre>
</div>
</div>
</section>
<section id="ggplot2---themes" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2---themes"><code>ggplot2</code> - Themes</h2>
<pre class="{webr-r}"><code>#| code-line-numbers: "6"
#| fig-align: center

theme_plot &lt;-  ggplot(data=penguins, mapping = aes(x=bill_length_mm, y = flipper_length_mm, color=species)) +
              geom_point(size = 4) + 
              xlab("Bill Length in milimters") + 
              ylab("Flipper Length in milimeters") + 
              ggtitle("Palmer Penguins: Bill length vs Flipper length") + 
              theme_dark(base_size = 16)
theme_plot</code></pre>
</section>
<section id="ggplot2---themes-1" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2---themes-1"><code>ggplot2</code> - Themes</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://github.com/BlakeRMills/MetBrewer/raw/main/PaletteImages/Hex/MetBrewerHex.jpg" class="img-fluid figure-img" width="262"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://github.com/BlakeRMills/MetBrewer/blob/main/PaletteImages/VanGogh2.png?raw=true" class="img-fluid figure-img" width="334"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<pre class="{webr-r}"><code>library(MetBrewer)
#| code-line-numbers: "6"
#| fig-align: center

ggplot(data=penguins, mapping = aes(x=bill_length_mm, y = flipper_length_mm, color=species)) +
              geom_point(size = 4) + 
              xlab("Bill Length in milimters") + 
              ylab("Flipper Length in milimeters") + 
              ggtitle("Palmer Penguins: Bill length vs Flipper length") + # Changes legend title, and selects a colour-palette
  scale_colour_manual(
                    values = MetBrewer::met.brewer("VanGogh2",3)) + 
              theme_minimal(base_size = 16)</code></pre>
</div>
</div>
</section>
<section id="ggplot2---themes-2" class="level2">
<h2 class="anchored" data-anchor-id="ggplot2---themes-2"><code>ggplot2</code> - Themes</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://user-images.githubusercontent.com/52077481/255932691-4c2e2885-d879-46e6-b61d-b253d8382597.png" class="img-fluid figure-img"></p>
</figure>
</div>
<pre class="{webr-r}"><code># install.packages("remotes")
#remotes::install_github("MatthewBJane/ThemePark")
</code></pre>
</div><div class="column" style="width:50%;">
<pre class="{webr-r}"><code>#| fig-align: center

library("ThemePark")

`X variable` &lt;- rnorm(50, 0, 1)
`Y variable` &lt;- rnorm(50, 0, 1)


ggplot(data = data.frame(x = `X variable`, y = `Y variable`), aes(x = x, y = y)) +
  geom_smooth(method = 'lm', color = barbie_theme_colors["medium"]) +
  geom_point() +
  labs(title = 'Barbie Scatter Plot') +
  theme_barbie()

</code></pre>
</div>
</div>
</section>
<section id="visualizing-variance-1" class="level2">
<h2 class="anchored" data-anchor-id="visualizing-variance-1">Visualizing Variance</h2>
</section>
<section id="disclaimer" class="level2">
<h2 class="anchored" data-anchor-id="disclaimer">Disclaimer</h2>
<p>- More information is always better!</p>
<ul>
<li>Avoid visualizing single numbers when you have a whole distribution of numbers</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://pbs.twimg.com/media/Ei5qvgNVoAAV1Ay.png" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
<section id="histograms" class="level1">
<h1>Histograms</h1>
<section id="histograms-1" class="level2">
<h2 class="anchored" data-anchor-id="histograms-1">Histograms</h2>
<ul>
<li><p>Put data into equally spaced buckets (or bins), plot how many rows are in each bucket</p>
<div class="columns">
<div class="column" style="width:50%;">
<pre class="{webr-r}"><code>
library(gapminder)
gapminder_2002 &lt;- gapminder %&gt;% 
      filter(year == 2002)

ggplot(gapminder_2002,
           aes(x = lifeExp)) +
      geom_histogram()+
      theme_minimal(base_size = 16)</code></pre>
</div>
</div></li>
</ul>
<hr>
</section>
<section id="ggdist" class="level2">
<h2 class="anchored" data-anchor-id="ggdist"><code>ggdist</code></h2>
<ul>
<li><p>Put data into equally spaced buckets (or bins), plot how many rows are in each bucket</p>
<div class="columns">
<div class="column" style="width:50%;">
<pre class="{webr-r}"><code>
library(ggdist)
        gapminder_2002 &lt;- gapminder %&gt;% 
          filter(year == 2002)

        fig=ggplot(gapminder_2002,
               aes(x = lifeExp)) +
          geom_dots()+
      theme_minimal(base_size = 16)</code></pre>
</div><div class="column" style="width:50%;">
<pre class="{webr-r}"><code>#| echo: false

fig</code></pre>
</div>
</div></li>
</ul>
<hr>
</section>
<section id="histograms-bin-width" class="level2">
<h2 class="anchored" data-anchor-id="histograms-bin-width">Histograms: Bin width</h2>
<ul>
<li><p>Range of values in each bar or dot</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Narrow</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">Big</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false" href="">Perfect</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<pre class="{webr-r}"><code>#| code-line-numbers: "2"
#| fig-align: "center"
ggplot(gapminder_2002, aes(x = lifeExp)) +
   geom_histogram(binwidth = .2) +
  theme_minimal(base_size = 16)</code></pre>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<pre class="{webr-r}"><code>#| code-line-numbers: "2"
#| fig-align: "center"

ggplot(gapminder_2002, aes(x = lifeExp)) +
   geom_histogram(binwidth = 20) +
  theme_minimal(base_size = 16)
</code></pre>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<pre class="{webr-r}"><code>#| code-line-numbers: "2"
#| fig-align: "center"

 ggplot(gapminder_2002, aes(x = lifeExp)) +
      geom_histogram(binwidth = 2) +
  theme_minimal(base_size = 16)</code></pre>
</div>
</div>
</div></li>
</ul>
<hr>
</section>
<section id="histogram-tips" class="level2">
<h2 class="anchored" data-anchor-id="histogram-tips">Histogram tips</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Add a border to the bars<br>for readability</p>
<ul>
<li><code>geom_histogram(..., color = "green")</code></li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<pre class="{webr-r}"><code>#| code-line-numbers: "2"

ggplot(gapminder_2002, aes(x = lifeExp)) +
   geom_histogram(binwidth = 2, color="green") +
  theme_minimal(base_size = 16)</code></pre>
</div>
</div>
</section>
<section id="histogram-tips-1" class="level2">
<h2 class="anchored" data-anchor-id="histogram-tips-1">Histogram tips</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Set the boundary</li>
</ul>
</div><div class="column" style="width:50%;">
<pre class="{webr-r}"><code>#| code-line-numbers: "2"
#| fig-align: "center"

ggplot(gapminder_2002, aes(x = lifeExp)) +
   geom_histogram(binwidth = 2, color="white", boundary=50) +
  theme_minimal(base_size = 16)
</code></pre>
</div>
</div>
</section>
<section id="density-plots" class="level2">
<h2 class="anchored" data-anchor-id="density-plots">Density plots</h2>
<ul>
<li><p>Use calculus to find the probability of each x value</p>
<pre class="{webr-r}"><code>#| fig-align: "center"
#|code-line-numbers: "2"


ggplot(gapminder_2002, aes(x = lifeExp)) +
  geom_density(fill = "grey60", color = "grey30")+
  theme_minimal(base_size = 16)</code></pre></li>
</ul>
</section>
<section id="density-plots-kernels-and-bandwidths" class="level2">
<h2 class="anchored" data-anchor-id="density-plots-kernels-and-bandwidths">Density plots: Kernels and bandwidths</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Different options for calculus change the plot shape</p>
<ul>
<li><p>Kernels - Smooth data points</p></li>
<li><p>bandwidth - how wide</p></li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<pre class="{webr-r}"><code>ggplot(gapminder_2002, aes(x = lifeExp)) +
  geom_density(fill = "grey60", color = "grey30")+
  theme_minimal(base_size = 16)
</code></pre>
</div>
</div>
</section>
</section>
<section id="boxplots" class="level1">
<h1>Boxplots</h1>
<section id="boxplots-1" class="level2">
<h2 class="anchored" data-anchor-id="boxplots-1">Boxplots</h2>
<ul>
<li><p>Show specific distributional numbers</p>
<div class="columns">
<div class="column" style="width:50%;">
<pre class="{webr-r}"><code>#| code-line-numbers: "2"
#| fig-align: center

box &lt;- ggplot(gapminder_2002,
       aes(x = lifeExp)) +
  geom_boxplot()+
  theme_minimal(base_size = 16)
</code></pre>
</div><div class="column" style="width:50%;">
<pre class="{webr-r}"><code>#| echo: false
box
</code></pre>
</div>
</div></li>
</ul>
</section>
<section id="five-number-summary" class="level2">
<h2 class="anchored" data-anchor-id="five-number-summary">Five number summary</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="boxplot-explanation-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
</section>
<section id="categorical-variables" class="level1">
<h1>Categorical Variables</h1>
<section id="bar-charts" class="level2">
<h2 class="anchored" data-anchor-id="bar-charts">Bar charts</h2>
<pre class="{webr-r}"><code>
library(fivethirtyeight)
# Using ggplot2 to plot the data
candy_rankings %&gt;%
  # Sorting the data to have the highest percentages at the top
  arrange(-winpercent) %&gt;%
  # Taking the top n candies (optional, you can remove the following line if you want all)
  top_n(20, wt = winpercent)</code></pre>
</section>
<section id="bar-plots" class="level2">
<h2 class="anchored" data-anchor-id="bar-plots">Bar plots</h2>
<pre class="{webr-r}"><code>#| echo: false
# Using ggplot2 to plot the data
candy_rankings %&gt;%
  # Sorting the data to have the highest percentages at the top
  arrange(-winpercent) %&gt;%
  # Taking the top n candies (optional, you can remove the following line if you want all)
  top_n(20, wt = winpercent) %&gt;%
  ggplot(aes(x = reorder(competitorname, -winpercent), y = winpercent)) +
  geom_bar(stat = "identity") +
  geom_text(aes(label = scales::percent(winpercent/100, accuracy = 1)), 
            hjust = -0.1, size = 3) +  # Adjust hjust for text position
  coord_flip() +
  labs(title = "Candy Rankings",
       x = "Candy Name",
       y = "Percentage of People Who Voted For Them") +
  theme_minimal()
</code></pre>
</section>
</section>
<section id="exploring-quantitative-variables" class="level1">
<h1>Exploring quantitative variables</h1>
<ul>
<li>Scatter plots</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://indrajeetpatil.github.io/ggstatsplot/reference/figures/logo.png" class="img-fluid figure-img" width="196"></p>
</figure>
</div>
<pre class="{webr-r}"><code>#| echo: false
#| fig-align: "center"

library(ggstatsplot)

ggscatterstats(
  data = movies_long, ## data frame from which variables are taken
  x = budget, ## predictor/independent variable
  y = rating, ## dependent variable
  xlab = "Budget (in millions of US dollars)", ## label for the x-axis
  ylab = "Rating on IMDB", ## label for the y-axis
  label.var = title, ## variable to use for labeling data points
  label.expression = rating &lt; 5 &amp; budget &gt; 100, ## expression for deciding which points to label
  results.subtitle = FALSE, 
  point.label.args = list(alpha = 0.7, size = 4, color = "grey50"),
  xfill = "#CC79A7", ## fill for marginals on the x-axis
  yfill = "#009E73", ## fill for marginals on the y-axis
  title = "Relationship between movie budget and IMDB rating",
  caption = "Source: www.imdb.com")

</code></pre>
</section>
<section id="categorical-x-continuous" class="level1">
<h1>Categorical x Continuous</h1>
<section id="exploring-multiple-groups" class="level2">
<h2 class="anchored" data-anchor-id="exploring-multiple-groups">Exploring multiple groups</h2>
<ul>
<li><p><strong>Visualize the distribution of a<br>
single variable across groups</strong></p></li>
<li><p><strong>Add a <code>fill</code> aesthetic or use faceting!</strong></p></li>
</ul>
</section>
<section id="multiple-histograms" class="level2">
<h2 class="anchored" data-anchor-id="multiple-histograms">Multiple histograms</h2>
<ul>
<li>This looks bad and is hard to read</li>
</ul>
<pre class="{webr-r}"><code>#| fig-align: "center"
#| code-line-numbers: "3"

ggplot(gapminder_2002,
       aes(x = lifeExp,
           fill = continent)) +
  geom_histogram(binwidth = 5, 
                 color = "white", 
                 boundary = 50) +
  guides(fill = "none") +
  theme_minimal(base_size = 16)
</code></pre>
</section>
<section id="multiple-histograms-1" class="level2">
<h2 class="anchored" data-anchor-id="multiple-histograms-1">Multiple histograms</h2>
<pre class="{webr-r}"><code>#| fig-align: "center"
#| code-line-numbers: "8"

 ggplot(gapminder_2002,
       aes(x = lifeExp,
           fill = continent)) +
  geom_histogram(binwidth = 5, 
                 color = "white", 
                 boundary = 50) +
  guides(fill = "none") +
  facet_wrap(vars(continent))+
  theme_minimal(base_size = 16)
</code></pre>
</section>
<section id="pyramid-histograms" class="level2">
<h2 class="anchored" data-anchor-id="pyramid-histograms">Pyramid histograms</h2>
<div class="columns">
<div class="column" style="width:50%;">
<pre class="{webr-r}"><code>
gapminder_intervals &lt;- gapminder %&gt;% 
  filter(year == 2002) %&gt;% 
  mutate(africa = 
           ifelse(continent == "Africa", 
                  "Africa", 
                  "Not Africa")) %&gt;% 
  mutate(age_buckets = 
           cut(lifeExp, 
               breaks = seq(30, 90, by = 5))) %&gt;% 
  group_by(africa, age_buckets) %&gt;% 
  summarize(total = n())</code></pre>
</div><div class="column" style="width:50%;">
<pre class="{webr-r}"><code>
ggplot(gapminder_intervals, 
       aes(y = age_buckets,
           x = ifelse(africa == "Africa", 
                      total, -total),
           fill = africa)) +
  geom_col(width = 1, color = "white")+
  theme_minimal(base_size = 16)</code></pre>
</div>
</div>
</section>
<section id="multiple-densities-transparency" class="level2">
<h2 class="anchored" data-anchor-id="multiple-densities-transparency"><strong>Multiple densities: Transparency</strong></h2>
<div class="columns">
<div class="column" style="width:50%;">
<pre class="{webr-r}"><code>#| code-line-numbers: "5"
#| fig-align: center
p4 &lt;- ggplot(filter(gapminder_2002, 
              continent != "Oceania"),
       aes(x = lifeExp,
           fill = continent)) +
  geom_density(alpha = 0.2)+
  theme_minimal(base_size = 16)
</code></pre>
</div><div class="column" style="width:50%;">
<pre class="{webr-r}"><code>#| echo: false

p4
</code></pre>
</div>
</div>
</section>
<section id="multiple-densities-ridge-plots" class="level2">
<h2 class="anchored" data-anchor-id="multiple-densities-ridge-plots"><strong>Multiple densities: Ridge plots</strong></h2>
<pre class="{webr-r}"><code>#| fig-align: "center"
#| code-line-numbers: "6"


library(ggridges)
ggplot(filter(gapminder_2002, 
              continent != "Oceania"),
       aes(x = lifeExp,
           fill = continent,
           y = continent)) +
  geom_density_ridges()+
  theme_minimal(base_size = 16)
</code></pre>
</section>
<section id="multiple-box-plots" class="level2">
<h2 class="anchored" data-anchor-id="multiple-box-plots">Multiple Box plots</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Boxplots</li>
</ul>
<pre class="{webr-r}"><code>
url &lt;- "https://raw.githubusercontent.com/z3tt/DataViz-Teaching/master/data/weissgerber-data.csv"
data &lt;- read_csv(url)</code></pre>
</div><div class="column" style="width:50%;">
<pre class="{webr-r}"><code>
ggplot(data, aes(x = group, y = value, color = group, fill = group)) +
  scale_y_continuous(breaks = 1:9) +
  geom_boxplot(alpha = .5, size = 1.5, outlier.size = 5) + 
  theme_minimal(base_size = 16) + 
  theme(legend.position =  "none")

</code></pre>
</div>
</div>
</section>
<section id="violin-plots" class="level2">
<h2 class="anchored" data-anchor-id="violin-plots">Violin plots</h2>
<ul>
<li><p>Density plot rotated 90 degrees and mirrored</p>
<pre class="{webr-r}"><code>#| fig-align: "center"
#| code-line-numbers: "2:6"

ggplot(data, aes(x = group, y = value)) +
  # create the violin plot
       geom_violin(
        aes(fill = group, fill = after_scale(colorspace::lighten(fill, .5))),
        size = 1.2, bw = .8
      ) +
  theme_minimal(base_size = 16)+
  # delete the legend information
        theme(legend.position =  "none")

</code></pre></li>
</ul>
</section>
<section id="are-violin-plots-bad" class="level2">
<h2 class="anchored" data-anchor-id="are-violin-plots-bad">Are violin plots bad?</h2>
<div class="quarto-video"><iframe data-external="1" src="https://www.youtube.com/embed/_0QMKFzW9fw" width="600" height="400" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
</section>
<section id="half-violin-plots-box" class="level2">
<h2 class="anchored" data-anchor-id="half-violin-plots-box">Half violin plots + Box</h2>
<pre class="{webr-r}"><code>#| fig-align: "center"
#| code-line-numbers: "2:3"

# Create the plot
ggplot(data, aes(x = group, y = value, fill=group)) +
  # Half violin plot with ggdist
  stat_halfeye()+
  # Distributional boxplot (similar to standard boxplot but with more flexibility)
  geom_boxplot(width = 0.1, outlier.shape = NA, fill = "white")+
  theme_minimal(base_size = 16) + 
    theme(legend.position = "none")
</code></pre>
</section>
<section id="strip-plots" class="level2">
<h2 class="anchored" data-anchor-id="strip-plots">Strip plots</h2>
<pre class="{webr-r}"><code>#| code-line-numbers: "2"
#| fig-align: center

ggplot(data, aes(x = group, y = value, fill=group)) +
  # get the jitter points
   geom_jitter(position=position_jitter(0.2)) + 
  #removed legend
  theme_minimal(base_size = 16) + 
  theme(legend.position = "none")



</code></pre>
</section>
<section id="strip-plots-1" class="level2">
<h2 class="anchored" data-anchor-id="strip-plots-1">Strip plots</h2>
<ul>
<li><p>Add summary stats</p>
<pre class="{webr-r}"><code>#| code-line-numbers: "3"
#| fig-align: center


ggplot(data, aes(x = group, y = value, fill=group)) +
   geom_jitter(position=position_jitter(0.2)) + 
   stat_summary(fun.y=median, geom="point", shape=18,
                 size=3, color="red")+
  #removed legend
  theme(legend.position = "none")+
  theme_minimal(base_size = 16)

</code></pre></li>
</ul>
</section>
<section id="raincloud-plots" class="level2">
<h2 class="anchored" data-anchor-id="raincloud-plots">Raincloud plots</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Half violin plots + box + raw points</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://github.com/jorvlan/open-visualizations/raw/master/R/package_figures/Rplot03.png" class="img-fluid figure-img" width="365"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<pre class="{webr-r}"><code>#| fig-align: center
#| code-line-numbers: "3"

library(ggrain)
ggplot(data, aes(x = group, y = value, fill=group)) +
  # raincloud plots
  geom_rain() + 
  #removed legend
  theme_minimal(base_size = 16) + 
  theme(legend.position = "none")
</code></pre>
</div>
</div>
</section>
<section id="raincloud-plots-1" class="level2">
<h2 class="anchored" data-anchor-id="raincloud-plots-1">Raincloud Plots</h2>
<pre class="{webr-r}"><code>#| fig-align: center

ggplot(filter(gapminder_2002, 
              continent != "Oceania"),
       aes(y = lifeExp,
           x = continent,
           color = continent)) + 
  geom_rain() + 
  coord_flip()+
  theme_minimal(base_size = 16)
</code></pre>
</section>
<section id="multiple-geoms" class="level2">
<h2 class="anchored" data-anchor-id="multiple-geoms">Multiple Geoms</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Multiple Geoms</li>
</ul>
<pre class="{webr-r}"><code>library(gghalves)
p6 &lt;- ggplot(filter(gapminder_2002, 
              continent != "Oceania"),
       aes(y = lifeExp,
           x = continent,
           color = continent)) +
  geom_half_boxplot(side = "l") +
  geom_half_point(side = "r") + theme(legend.position  = "none")+
  theme_minimal(base_size = 16)
</code></pre>
</div><div class="column" style="width:50%;">
<pre class="{webr-r}"><code>#| echo: false
#| fig-align: center

p6</code></pre>
</div>
</div>
</section>
<section id="categorical-vs.-categorical" class="level2">
<h2 class="anchored" data-anchor-id="categorical-vs.-categorical">Categorical vs.&nbsp;Categorical</h2>
<ul>
<li><p>Stacked barplots</p>
<pre class="{webr-r}"><code>#| echo: false
#| fig-align: "center"
#| 
# Create a new variable for the combination of chocolate and fruity
library(openintro)

ggplot(data=loans_full_schema, aes(x=homeownership, fill=application_type)) + 
  geom_bar()
</code></pre></li>
</ul>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>